{% extends 'main/base.html' %}
{% load filters %}
{% load staticfiles %}
{% load bootstrap_tags %}


{% block content %}

<ul class="nav nav-tabs nav-pills-plots" >
    <li class ="stat_heatmap"><a href="{% url "stat_heatmap" %}">heatmap</a></li>
    <li class ="stat_scatter"><a href="{% url "stat_scatter" %}">scatter</a></li>
    <li class ="stat_correlation"><a href="{% url "stat_correlation" %}">correlation</a></li>
</ul>
<br>

{%if url_name|length > 0%}

<ul class="nav nav-pills nav-pills-data_column" >
    {%for field in field_list%}
        <li class = "btn btn-default" data_column = {{field}} data_column_to_plot = "">{{field}}</li>
    {%endfor%}
</ul>
<hr>
{%endif%}



{% block plots %}{% endblock %}

{% endblock %}


{% block script %}
<script src="{% static "main/js/jquery-ui.min.js" %}"></script>
<script>
    
$('ul.nav-pills-plots > li[class*={{url_name}}]').addClass("active")

data_column_to_plot = []
$('ul.nav-pills-data_column > li').click(function(){
    x=$(this).attr("data_column");
    
    if ($(this).hasClass("btn-default")){
        $(this).removeClass("btn-default")
        $(this).addClass("btn-warning")
        data_column_to_plot.push(x)
    }
    else{
        $(this).addClass("btn-default")
        $(this).removeClass("btn-warning")
        data_column_to_plot = jQuery.grep(data_column_to_plot, function(value) {
        return value != x;})
    }
    $("textarea.data_column_to_plot").val(data_column_to_plot.join(','));
})
</script>


{% block script-tooltip %}{% endblock %}
{% endblock %}